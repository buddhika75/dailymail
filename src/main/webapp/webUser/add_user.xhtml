<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head >
        <ui:define name="title">
            Add User
        </ui:define>
    </h:head>
    <h:body>

        <ui:composition template="/template.xhtml">



            <ui:define name="body">


                <p:panel header="Add User" >


                    <h:form id="WebUserEditForm">
                        <h:panelGroup id="display">
                            <p:panelGrid columns="2" rendered="#{webUserController.selected != null}">
                                <p:outputLabel value="#{bundle.EditWebUserLabel_userName}" for="userName" />
                                <p:inputText id="userName" value="#{webUserController.selected.userName}"
                                             title="#{bundle.EditWebUserTitle_userName}" required="true" />
                                <p:outputLabel value="#{bundle.EditWebUserLabel_password}" for="password" />
                                <p:inputText id="password" value="#{webUserController.selected.password}" 
                                             title="#{bundle.EditWebUserTitle_password}" 
                                             required="true"/>
                                <p:outputLabel value="#{bundle.EditWebUserLabel_name}" for="name" />
                                <p:inputText id="name" value="#{webUserController.selected.name}"
                                             title="#{bundle.EditWebUserTitle_name}" 
                                             required="true"/>
                                
                                <p:outputLabel value="Role" for="role" />
                                <p:selectOneMenu id="role" value="#{webUserController.selected.userRole}"
                                                 required="true">
                                    <f:selectItem itemLabel="Select Role" ></f:selectItem>
                                    <f:selectItems value="#{commonController.roles}" 
                                                   var="r" itemLabel="#{d}" itemValue="#{r}" ></f:selectItems>
                                </p:selectOneMenu>
                                
                                <p:outputLabel value="#{bundle.EditWebUserLabel_email}" for="email" />
                                <p:inputText id="email" value="#{webUserController.selected.email}" title="#{bundle.EditWebUserTitle_email}" />
                                <p:outputLabel value="Institute"  />
                                <p:selectOneMenu value="#{webUserController.selected.institute}" >
                                    <f:selectItem itemLabel="Select Institute" ></f:selectItem>
                                    <f:selectItems value="#{instituteController.itemsAvailableSelectOne}" var="d" itemLabel="#{d.name}" itemValue="#{d}" ></f:selectItems>
                                </p:selectOneMenu>
                                <p:outputLabel value="Department"  />
                                <p:selectOneMenu value="#{webUserController.selected.department}" >
                                    <f:selectItem itemLabel="Select Department" ></f:selectItem>
                                    <f:selectItems value="#{departmentController.itemsAvailableSelectOne}" var="d" itemLabel="#{d.name}" itemValue="#{d}" ></f:selectItems>
                                </p:selectOneMenu>
                            </p:panelGrid>
                            <p:commandButton action="#{webUserController.saveUser()}" value="#{bundle.Save}" ajax="false" />
                            <p:commandButton action="#{webUserController.toManageUsers()}" value="Back" ajax="false"/>
                        </h:panelGroup>
                    </h:form>


                </p:panel>


            </ui:define>

        </ui:composition>

    </h:body>
</html>
